---
layout: post
title: Netflix Tries Net-tricks
categories:
- Life
tags: []
status: publish
type: post
published: true
meta:
  pvc_views: '4'
  dsq_thread_id: '606605641'
author:
  login: air0day
  email: blog@air0day.com
  display_name: Rod Hilton
  first_name: Rod
  last_name: Hilton
---
<p>I used to be a Netflix subscriber, but I cancelled when I realized that my 10 bucks a month only got divided by 4 or 5 movies per month, since it took long enough for movies to move through the mail (and they generally sat on my coffee table for a few days), which worked out to be only slightly better than just renting a movie when I felt like it from a rental store.</p>
<p>I figured that if you paid for the higher-level services and could have three out at a time, you could work those three so that you were getting a new movie every day (getting a new one generally took me three days), so it would be a really good deal if you watched a movie every night.</p>
<p><!--more--></p>
<p>It turns out that <a href="http://www.msnbc.msn.com/id/11262292/from/RS.3/">this is not the case</a>.  The article describes that when you get more than nine movies per month, your priority is lowered in the system so that infrequent renters and new subscribers can get the movies they want.  The system, which Netflix admits to and calls "throttling" is designed to help the company keep from wasting too much money on sending movies and cutting into their profits.</p>
<p>This is a pretty crappy practice for a company that builds its model on star-eyed potential customers having visions of movies in their mailboxes when they get home every day.  What's really insulting, however, is how stupid they seem to think you are.  This is referred to as a "<a href="http://www.hackingnetflix.com/2006/02/ap_story_on_net.html">fairness algorithm</a>" which ensures that new customers be treated fairly in that frequent renters don't rent all of the movies and take them away from infrequent renters.  It sounds nice, which is why they spun it this way, but they don't seem to be counting on people knowing anything about fairness scheduling.</p>
<p>Imagine if you were designing a queue system.  Tasks are entered into the queue and can have priorities of HIGH, MEDIUM, or LOW.  How do you decide which task in the queue gets chosen when it's time to pick one?  A lot of people's first instinct is straightforward: HIGH goes in the front of the queue, MEDIUM goes to the middle, and LOW goes to the end.  Take tasks off the front.</p>
<p>The problem arises when there are LOW or MEDIUM tasks in the queue, but a steady stream of HIGH priority tasks.  This would cause the low priority tasks to never be picked, even if they have been waiting for a long time.  This is known in the world of scheduling algorithms as Starvation.</p>
<p>This seems, at least at first, to be a hard problem to solve, which is why Netflix alludes to it.  If you can't think of a solution to the problem, how can you blame them for being victims of the same difficult issue? </p>
<p>In reality, however, this problem does have a very good solution: it's extremly common in operating systems as a process scheduling algorithm.  It's called Lottery Scheduling.  In lottery scheduling, tasks are assigned a number of lottery tickets porportional to their priority.  So perhaps HIGH priority tasks get 3 tickets, MEDIUM tasks get 2 each, and LOW tasks get 1.  Then select a lottery number and see who has the winning ticket.  They win.</p>
<p>This solution is good because its probabalistic.  Everything has a chance of being picked, so eventually everything gets picked, regardless of priority.  Based on probability, however, higher priority tasks are picked more frequently.  This algorithm is FAIR, yet it also allows for accurately assigning priority.</p>
<p>If customers are truly feeling the effects of the Starvation, it means that Netflix is not using this algorithm.  If customers starve, the system is not fair, despite being called a "fairness algorithm".  In actuality, it is an unfair "scheduling algorithm"  There is no way for Netflix to spin this if it's true (and the customers aren't just pissed off and exaggerating), they have simply elected to ignore a very well-known scheduling algorithm, knowingly starving frequent renters.  </p>
