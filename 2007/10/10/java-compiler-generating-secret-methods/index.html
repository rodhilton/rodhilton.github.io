<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Absolutely No Machete Juggling &raquo; Java Compiler Generating Secret Methods</title>
        <meta name="viewport" content="width=device-width" />
        <link rel="alternate" type="application/rss+xml" title="Absolutely No Machete Juggling &raquo; All Posts" href="/rss.xml" />
        
        
          <link rel="alternate" type="application/rss+xml" title="Absolutely No Machete Juggling &raquo; 'Life' Posts Only" href="/category/life/rss.xml" />
        
          <link rel="alternate" type="application/rss+xml" title="Absolutely No Machete Juggling &raquo; 'Programming' Posts Only" href="/category/programming/rss.xml" />
        
          <link rel="alternate" type="application/rss+xml" title="Absolutely No Machete Juggling &raquo; 'Technology' Posts Only" href="/category/technology/rss.xml" />
        

        <link rel="alternate" type="application/rss+xml" title="Absolutely No Machete Juggling &raquo; Comments" href="http://nomachetejuggling.disqus.com/latest.rss" />    

        <link rel="icon" href="/assets/favicon.png" type="image/png">
        <link rel="shortcut icon" href="/assets/favicon.png" type="image/png">

        <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic|Source+Code+Pro|Architects+Daughter' rel='stylesheet' type='text/css'>

        <link rel="stylesheet" href="/css/main.css">
        <link rel="stylesheet" href="/css/googlecode.css">

        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    </head>
<body>
<div id="page">
  <div id="headerwrapper">
    <div class="header">
      <div class="headertitle">
        <h1><a href="/" title="Absolutely No Machete Juggling: Rod Hilton&#039;s rants about stuff he cares about way too much.">Absolutely No Machete Juggling</a></h1>
        <p>Rod Hilton&#039;s rants about stuff he cares about way too much...</p>
      </div>
    </div>
  </div>
  <div id="navbar">
    <div id="navcontainer">
      <ul id="navlist">
  
  <li class="cat-item "><a href="/">All</a></li>

  
    
    <li class="cat-item "><a href="/category/life">LIFE</a>
  
    
    <li class="cat-item current-cat"><a href="/category/programming">PROGRAMMING</a>
  
    
    <li class="cat-item "><a href="/category/technology">TECHNOLOGY</a>
  

  
    
    <li class="menu-item "><a href="/about.html">ABOUT</a></li>
  
    
    <li class="menu-item "><a href="/resume.html">RéSUMé</a></li>
  
    
    <li class="menu-item "><a href="/projects.html">PROJECTS</a></li>
  
    
    <li class="menu-item "><a href="/contact.html">CONTACT</a></li>
  
    
    <li class="menu-item "><a href="/links.html">LINKS</a></li>
  
</ul><!-- /navlist -->
    </div><!-- /navcontainer -->
  </div><!-- /navbar -->

  <div id="wrapper">
    <div id="content">
      <div class="post">
	<div class="postheader">
  	<h1 class="posttitle"><a href="/2007/10/10/java-compiler-generating-secret-methods/">Java Compiler Generating Secret Methods</a></h1>
  	<div class="postmeta">
		<p class="meta">
		<b title="code and java">PROGRAMMING</b> - 
		October 10, 2007 - 
		1,154 words -
		<a href="/2007/10/10/java-compiler-generating-secret-methods/#disqus_thread">Comments</a>
		</p>
	</div>
</div>
	<div class="postentry">
		<p>I&#39;m going to show you a little trick that will add two methods to any Java class, without actually defining them.  Furthermore, these methods will be given package visibility, accessible by any class in the same package. </p>

<p>First and foremost, credit for showing me this interesting <code>javac</code> tidbit goes to <a href="http://blogs.tedneward.com/">Ted Neward</a>.  Ted recently presented an introduction to java bytecode at a local JUG.  The entire presentation was incredibly interesting, but one of the more interesting bits that came out was a little bit of trickery the java compiler performs in certain cases.</p>

<p>Let&#39;s take a look at two classes.   One we&#39;ll call CompTest, which will be a simple class that contains a private String and a method to print it to the screen.  The second will be CompExecutive, which will simply make a CompTest instance and call the one method it defines.  It will also use Java reflection to count the number of methods on CompTest.</p>
<div class="highlight"><pre><code class="language-java" data-lang="java">public class CompTest {
  private String myVariable=&quot;This is a private variable&quot;;

  public void printVar() {
    System.out.println(myVariable);
  }
}
</code></pre></div><div class="highlight"><pre><code class="language-java" data-lang="java">import java.lang.reflect.*;

public class CompExecutive {
  public static void main(String[] args) {
    CompTest ct=new CompTest();
    ct.printVar();

    //Get all of the methods on the class.
    Method[] declaredMethods=ct.getClass().getDeclaredMethods();
    System.out.println(&quot;Number of Methods on CompTest: &quot;+declaredMethods.length);
  }
}
</code></pre></div>
<p>When we run this program, we get what we would expect.  The outputted string, as well as the number of methods defined in CompTest, one.</p>
<div class="highlight"><pre><code class="language-output" data-lang="output">This is a private variable
Number of Methods on CompTest: 1
</code></pre></div>
<p>Now let&#39;s change CompTest slightly. Let&#39;s give CompTest an inner class.  Inner classes are allowed to access private variables inside the containing class, so we&#39;ll make an Inner class that changes the private variable, then prints it.</p>
<div class="highlight"><pre><code class="language-java" data-lang="java">public class CompTest2 {
  private String myVariable=&quot;This is a private variable&quot;;

  public class InnerClass {
    public void alsoPrintVar() {
      myVariable = &quot;Is it still private?&quot;;
      System.out.println(&quot;From Inner Class: &quot;+myVariable);
    }
  }

  public void printVar() {
    System.out.println(myVariable);
    InnerClass ic=new InnerClass();
    ic.alsoPrintVar();
  }
}
</code></pre></div><div class="highlight"><pre><code class="language-java" data-lang="java">import java.lang.reflect.*;

public class CompExecutive2 {
  public static void main(String[] args) throws Exception {
    CompTest2 ct=new CompTest2();
    ct.printVar();

    //Get all of the methods on the class.
    Method[] declaredMethods=ct.getClass().getDeclaredMethods();
    System.out.println(&quot;Methods on CompTest2: &quot;+declaredMethods.length);
  }
}
</code></pre></div>
<p>What do we expect the output to be?  We haven&#39;t added any methods to CompTest, just an inner class declaration.  The output should still say that there is only one declared method, right?  And yet, when we run it...</p>
<div class="highlight"><pre><code class="language-output" data-lang="output">This is a private variable
From Inner Class: Is it still private?
Methods on CompTest2: 3
</code></pre></div>
<p>Three?  Where did the other two methods come from?</p>

<p>The answer lies in the way that the java compiler deals with inner classes.  If you&#39;ve ever worked with inner classes and packaged them, say into a .jar file, you may have noticed that each inner class is actually compiled to its own class file.  In the above example, compilation yields three files: CompExecutive2.class, CompTest2.class, and CompTest2$InnerClass.class.  This third class file is an independent, compiled class.  One might wonder, given the fact that this is a separate class, how it is able to access the private variables inside CompTest2.  Answering this question also gives us the secret behind the extra two methods.</p>

<p>We can run CompTest2 through javap, the java disassembler included with the jdk.  If we run <code>javap -c CompTest2</code>, we can see the disassembled code that makes up our class.  If we do so, we find this:</p>
<div class="highlight"><pre><code class="language-output" data-lang="output">public class CompTest2 extends java.lang.Object{
public CompTest2();
  Code:
   0:   aload_0
   1:   invokespecial   #2; //Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V
   4:   aload_0
   5:   ldc     #3; //String This is a private variable
   7:   putfield        #1; //Field myVariable:Ljava/lang/String;
   10:  return

public void printVar();
  Code:
   0:   getstatic       #4; //Field java/lang/System.out:Ljava/io/PrintStream;
   3:   aload_0
   4:   getfield        #1; //Field myVariable:Ljava/lang/String;
   7:   invokevirtual   #5; //Method java/io/PrintStream.println:(Ljava/lang/String;)V
   10:  new     #6; //class CompTest2$InnerClass
   13:  dup
   14:  aload_0
   15:  invokespecial   #7; //Method CompTest2$InnerClass.&quot;&lt;init&gt;&quot;:(LCompTest2;)V
   18:  astore_1
   19:  aload_1
   20:  invokevirtual   #8; //Method CompTest2$InnerClass.alsoPrintVar:()V
   23:  return

static java.lang.String access$002(CompTest2, java.lang.String);
  Code:
   0:   aload_0
   1:   aload_1
   2:   dup_x1
   3:   putfield        #1; //Field myVariable:Ljava/lang/String;
   6:   areturn

static java.lang.String access$000(CompTest2);
  Code:
   0:   aload_0
   1:   getfield        #1; //Field myVariable:Ljava/lang/String;
   4:   areturn

}
</code></pre></div>
<p>We can ignore the specifics about how jvm assembler works, but we can notice which methods are defined on the class.  First is a constructor - no surprises there.  It doesn&#39;t count as a method, so that&#39;s not one of the three.  Next is printVar, which looks just how we declared it.  But after that, things get strange.  There are two extra methods, <code>access$000</code> and <code>access$002</code>.  They both take a CompTest2 instance, and they both return a string.  What&#39;s going on here?</p>

<p>What&#39;s going on is that, since the compiler has to put CompTest2$InnerClass inside its own class file, it has to make the private variable, myVariable, accessible to it.  Inner Classes are secretly loaded up to be constructed with a reference to the container class, so when methods need access to private members, they call these <code>access</code> methods, passing in the instance of the Outer Class they were given.  These access methods can&#39;t be private (since the separate class can&#39;t see them), and Java doesn&#39;t support friend classes like C++, so the least permissive accessibility the access methods can have is package level visibility.</p>

<p>In other words, <code>javac</code> silently adds package-level methods to CompTest2, which allow CompTest2&#39;s private variables to be modified and accessed.  If CompTest2 didn&#39;t have the line that changed myVariable, the compiler would have only added one method.  As it is, two methods were added: one that simply returns the value, and the other that allows it to be changed.</p>

<p>And yes, you can use reflection to call these methods from a class in the same package as CompTest2.  Case in point:</p>
<div class="highlight"><pre><code class="language-java" data-lang="java">import java.lang.reflect.*;

public class Sneaky2 {
  public static void main(String[] args) throws Exception {
    CompTest2 ct=new CompTest2();

    Method secretSetMethod=ct.getClass().getDeclaredMethod(&quot;access$002&quot;,CompTest2.class, String.class);
    secretSetMethod.invoke(ct,ct,&quot; -- Not so private anymore, huh? -- &quot;);

    ct.printVar();
  }
}
</code></pre></div>
<p>Since myVariable is private, you would hope that this code wouldn&#39;t compile, or wouldn&#39;t run, or something.  Certainly that it wouldn&#39;t actually change the value of myVariable inside ct.  And yet, when you run this program, you get this:</p>
<div class="highlight"><pre><code class="language-output" data-lang="output"> -- Not so private anymore, huh? -- 
From Inner Class: Is it still private?
</code></pre></div>
<p>If you are wondering why it still prints &quot;Is it still private?&quot;, it&#39;s because the method printVar() tells an InnerClass instance to run its own alsoPrintVar() method, which sets the variable (overwriting what we set using reflection).</p>

<p>There you go.  Every time you use inner classes or anonymous inner classes, javac makes a package-visibility method to access or mutate any private variable your inner class needs to access or mutate.  If your inner class only reads the variable, it makes the method that only returns it, but if your inner class changes it as well, it makes a second method to change the value.</p>

<p>Thanks again to Ted Neward for his excellent presentation.</p>

	</div>
</div>

    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'nomachetejuggling'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
    </div>  

  </div><!-- /wrapper -->

  <div id="sidebar-wrapper">
   <div id="sidebars">
      <div id="sidebar-left" class="sidebar">
        <ul>
          <li id="text-3" class="widget widget_text"> 
            <div class="textwidget">
              <img src="http://www.gravatar.com/avatar/68ca541f6f4eaedbe7d711cd651cf451.png?s=200" style="float: left; margin: 0px 5px 3px 0; border: 1px solid black; width: 50px; height: 50px" width=50 height=50>Absolutely No Machete Juggling is a blog about software, programming, computers, and me. I'm a programmer working in Colorado, mostly with Java and Ruby. <a href="/about.html">Read More...</a>
            </div>
          </li>
          <li id="recent-posts" class="widget widget_recent_entries"> <h2 class="widgettitle">Recent Posts</h2>
            <ul>
                
                  <li><a href="/2016/06/15/guidingprinciples-part1/">Software Engineering Guiding Principles - Part 1</a></li>
                
                  <li><a href="/2016/04/30/strengthsfinder/">My StrengthsFinder Results</a></li>
                
                  <li><a href="/2015/12/28/machete-order-update-and-faq/">Star Wars Machete Order: Update and FAQ</a></li>
                
                  <li><a href="/2015/11/13/phd-research-status-report/">PhD Status Report</a></li>
                
                  <li><a href="/2015/08/27/testing-against-template-renders-in-grails/">Testing Against Template Renders in Grails</a></li>
                
                  <li><a href="/2015/07/01/qconny-2015-a-review/">QCon New York 2015: A Review</a></li>
                
                  <li><a href="/2014/07/04/uploading-a-jekyll-site-to-rackspace-cloudfiles/">Uploading a Jekyll Site to Rackspace Cloudfiles</a></li>
                
                  <li><a href="/2014/06/24/the-worst-programming-interview-question/">The Worst Programming Interview Question</a></li>
                
                  <li><a href="/2014/02/05/top-10-career-changing-programming-books/">Top 10 Career-Changing Programming Books</a></li>
                
                  <li><a href="/2013/12/17/centurylink-traps-and-caps/">CenturyLink: Traps and Caps</a></li>
                
            </ul>
          </li> <!-- /recent-posts -->
          <li id="tag_cloud" class="widget">
            <h2 class="widgettitle">Tags</h2>
            <div class="ctc">
                
                  <a href="/tag/code" style="font-size: 18pt">
                    code
                  </a>
                
                  <a href="/tag/career" style="font-size: 13pt">
                    career
                  </a>
                
                  <a href="/tag/java" style="font-size: 13pt">
                    java
                  </a>
                
                  <a href="/tag/school" style="font-size: 12pt">
                    school
                  </a>
                
                  <a href="/tag/ruby" style="font-size: 10pt">
                    ruby
                  </a>
                
                  <a href="/tag/agile" style="font-size: 9pt">
                    agile
                  </a>
                
                  <a href="/tag/interview" style="font-size: 8pt">
                    interview
                  </a>
                
                  <a href="/tag/book" style="font-size: 8pt">
                    book
                  </a>
                
                  <a href="/tag/software" style="font-size: 8pt">
                    software
                  </a>
                
                  <a href="/tag/crossposted" style="font-size: 8pt">
                    crossposted
                  </a>
                
                  <a href="/tag/computer-science" style="font-size: 8pt">
                    computer science
                  </a>
                
                  <a href="/tag/job" style="font-size: 8pt">
                    job
                  </a>
                
                  <a href="/tag/semester" style="font-size: 8pt">
                    semester
                  </a>
                
                  <a href="/tag/class" style="font-size: 8pt">
                    class
                  </a>
                
                  <a href="/tag/review" style="font-size: 8pt">
                    review
                  </a>
                
                  <a href="/tag/ubuntu" style="font-size: 8pt">
                    ubuntu
                  </a>
                
                  <a href="/tag/linux" style="font-size: 8pt">
                    linux
                  </a>
                
                  <a href="/tag/rails" style="font-size: 8pt">
                    rails
                  </a>
                
                  <a href="/tag/git" style="font-size: 7pt">
                    git
                  </a>
                
                  <a href="/tag/windows" style="font-size: 7pt">
                    windows
                  </a>
                
                  <a href="/tag/internet" style="font-size: 7pt">
                    internet
                  </a>
                
                  <a href="/tag/rant" style="font-size: 7pt">
                    rant
                  </a>
                
                  <a href="/tag/college" style="font-size: 7pt">
                    college
                  </a>
                
                  <a href="/tag/continuous-integration" style="font-size: 7pt">
                    continuous integration
                  </a>
                
                  <a href="/tag/complexity" style="font-size: 7pt">
                    complexity
                  </a>
                
                  <a href="/tag/development" style="font-size: 7pt">
                    development
                  </a>
                
                  <a href="/tag/tdd" style="font-size: 7pt">
                    tdd
                  </a>
                
                  <a href="/tag/business" style="font-size: 7pt">
                    business
                  </a>
                
                  <a href="/tag/design" style="font-size: 7pt">
                    design
                  </a>
                
                  <a href="/tag/open-source" style="font-size: 7pt">
                    open source
                  </a>
                
                  <a href="/tag/compsci" style="font-size: 7pt">
                    compsci
                  </a>
                
                  <a href="/tag/refactoring" style="font-size: 7pt">
                    refactoring
                  </a>
                
                  <a href="/tag/professionalism" style="font-size: 7pt">
                    professionalism
                  </a>
                
                  <a href="/tag/automated-testing" style="font-size: 7pt">
                    automated testing
                  </a>
                
                  <a href="/tag/quality" style="font-size: 7pt">
                    quality
                  </a>
                
                  <a href="/tag/planning" style="font-size: 7pt">
                    planning
                  </a>
                
                  <a href="/tag/estimating" style="font-size: 7pt">
                    estimating
                  </a>
                
                  <a href="/tag/jenkins" style="font-size: 7pt">
                    jenkins
                  </a>
                
                  <a href="/tag/brain" style="font-size: 7pt">
                    brain
                  </a>
                
                  <a href="/tag/productivity" style="font-size: 7pt">
                    productivity
                  </a>
                
                  <a href="/tag/junit" style="font-size: 7pt">
                    junit
                  </a>
                
                  <a href="/tag/testing" style="font-size: 7pt">
                    testing
                  </a>
                
                  <a href="/tag/nerd" style="font-size: 7pt">
                    nerd
                  </a>
                
                  <a href="/tag/star-wars" style="font-size: 7pt">
                    star wars
                  </a>
                
                  <a href="/tag/wordpress" style="font-size: 7pt">
                    wordpress
                  </a>
                
                  <a href="/tag/mac" style="font-size: 7pt">
                    mac
                  </a>
                
                  <a href="/tag/functional" style="font-size: 7pt">
                    functional
                  </a>
                
                  <a href="/tag/estimation" style="font-size: 7pt">
                    estimation
                  </a>
                
                  <a href="/tag/education" style="font-size: 7pt">
                    education
                  </a>
                
                  <a href="/tag/certification" style="font-size: 7pt">
                    certification
                  </a>
                
                  <a href="/tag/tests" style="font-size: 7pt">
                    tests
                  </a>
                
                  <a href="/tag/programming-languages" style="font-size: 7pt">
                    programming languages
                  </a>
                
                  <a href="/tag/scala" style="font-size: 7pt">
                    scala
                  </a>
                
                  <a href="/tag/technical-debt" style="font-size: 7pt">
                    technical debt
                  </a>
                
                  <a href="/tag/blog" style="font-size: 7pt">
                    blog
                  </a>
                
                  <a href="/tag/rage" style="font-size: 7pt">
                    rage
                  </a>
                
                  <a href="/tag/story" style="font-size: 7pt">
                    story
                  </a>
                
                  <a href="/tag/books" style="font-size: 7pt">
                    books
                  </a>
                
                  <a href="/tag/latex" style="font-size: 7pt">
                    latex
                  </a>
                
                  <a href="/tag/patch" style="font-size: 7pt">
                    patch
                  </a>
                
                  <a href="/tag/c" style="font-size: 7pt">
                    c#
                  </a>
                
                  <a href="/tag/conference" style="font-size: 7pt">
                    conference
                  </a>
                
                  <a href="/tag/work" style="font-size: 7pt">
                    work
                  </a>
                
            </div>
          </li><!-- /tag-cloud -->
          <li class="widget widget_text" id="text-4">
            <div class="textwidget">
              <div align="center">
                <a href="http://www.eff.org/action"><img src="/assets/eff.gif"></a>
              </div>
            </div>
          </li>
        </ul>
      </div><!-- /sidebar-left -->

      <div id="sidebar-right" class="sidebar">
        <div id="social-icons">
          
              <a href="http://about.me/rodhilton" title="about.me" class="social-icon dimmed" style="background-color: #eeb111">
                <img src="/assets/social/aboutme.png"/>
              </a>
          
              <a href="https://twitter.com/rodhilton" title="Twitter" class="social-icon dimmed" style="background-color: #55acee">
                <img src="/assets/social/twitter.png"/>
              </a>
          
              <a href="http://www.linkedin.com/in/rodhilton" title="LinkedIn" class="social-icon dimmed" style="background-color: #0976b4">
                <img src="/assets/social/linkedin.png"/>
              </a>
          
              <a href="http://github.com/rodhilton" title="GitHub" class="social-icon dimmed" style="background-color: #000000">
                <img src="/assets/social/github.png"/>
              </a>
          
              <a href="http://speakerdeck.com/rodhilton" title="Speakerdeck" class="social-icon dimmed" style="background-color: #218d5e">
                <img src="/assets/social/speakerdeck.png"/>
              </a>
          
              <a href="https://coderwall.com/p/u/rodhilton" title="Coderwall" class="social-icon dimmed" style="background-color: #3990d0">
                <img src="/assets/social/coderwall.png"/>
              </a>
          
              <a href="https://facebook.com/rodhilton" title="Facebook" class="social-icon dimmed" style="background-color: #3b5998">
                <img src="/assets/social/facebook.png"/>
              </a>
          
              <a href="http://www.goodreads.com/user/show/1499157-rodhilton-hilton" title="Goodreads" class="social-icon dimmed" style="background-color: #76420a">
                <img src="/assets/social/goodreads.png"/>
              </a>
          
              <a href="http://letterboxd.com/rodhilton/films/ratings/" title="Letterboxd" class="social-icon dimmed" style="background-color: #21282f">
                <img src="/assets/social/letterboxd.png"/>
              </a>
          
              <a href="http://www.grouvee.com/user/rodhilton/shelves/3274-played" title="Grouvee" class="social-icon dimmed" style="background-color: #dda017">
                <img src="/assets/social/grouvee.png"/>
              </a>
          
              <a href="http://www.last.fm/user/rodhilton" title="Last.fm" class="social-icon dimmed" style="background-color: #c3000d">
                <img src="/assets/social/lastfm.png"/>
              </a>
          
              <a href="http://www.diigo.com/user/rodhilton" title="Diigo" class="social-icon dimmed" style="background-color: #0079ff">
                <img src="/assets/social/diigo.png"/>
              </a>
          
        </div>
      </div><!-- /sidebar-right -->

    </div><!-- /sidebars -->
    </div><!--/sidebar-wrapper-->

</div> <!-- /page -->

<!-- Javascript -->
<script type="text/javascript">
/*The sidebar shouldn't be visible until it's been positioned, but just in case someone disables JS we leave it visible in CSS and immediately hide it here */
$("#sidebars").css({visibility: "hidden"});
</script>

<script src="/scripts/editableCodeHighlight.js" type="text/javascript"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js" type="text/javascript"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.0/highlight.min.js"></script>

<script src="/scripts/jquery.lazyload.mini.js"></script>

<script type="text/javascript"
   src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<script src="/scripts/hyphenator/Hyphenator.js" type="text/javascript"></script>
<script src="/scripts/hyphenator/patterns/en-us.js" type="text/javascript"></script>      
<script src="/scripts/startup.js" type="text/javascript"></script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [["$$","$$"], ["\\(","\\)"]],
      displayMath: [["$$$","$$$"],["\\[","\\]"]]
    },
    TeX: {
      extensions: ["AMSmath.js", "AMSsymbols.js"]
    },
    "HTML-CSS": {
      scale: 96
    }
  });
</script>

<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'nomachetejuggling'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-379031-4', 'auto');
  ga('send', 'pageview');

</script> 

</body>
</html>
